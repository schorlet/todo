<link rel="import" href="../bower_components/polymer/polymer.html">

<polymer-element name="todo-input" extends="input"
        on-keyup="{{keyupAction}}"
        on-keypress="{{keypressAction}}">

    <script>
    (function() {
            var ENTER_KEY = 13;
            var ESC_KEY = 27;

            Polymer('todo-input', {
                // Listen for enter on keypress but esc on keyup, because
                // IE doesn't fire keyup for enter.
                keypressAction: function(e, detail, sender) {
                    if (e.keyCode === ENTER_KEY) {
                        this.fire('todo-input-commit');
                    }
                },

                keyupAction: function(e, detail, sender) {
                    if (e.keyCode === ESC_KEY) {
                        this.fire('todo-input-cancel');
                    }
                }
            });
        })();
    </script>
</polymer-element>
